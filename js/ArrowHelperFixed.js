THREE.ArrowHelper=function(){return function(e,t,i,n,o,r){var s=new THREE.Geometry;s.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var a=new THREE.CylinderGeometry(0,.5,1,5,1);a.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));THREE.Object3D.call(this);if(n===undefined)n=16776960;if(i===undefined)i=1;if(o===undefined)o=.2*i;if(r===undefined)r=.2*o;this.position.copy(t);this.line=new THREE.Line(s,new THREE.LineBasicMaterial({color:n}));this.line.matrixAutoUpdate=false;this.add(this.line);this.cone=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:n}));this.cone.matrixAutoUpdate=false;this.add(this.cone);this.setDirection(e);this.setLength(i,o,r)}}();THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.setDirection=function(){var e=new THREE.Vector3;var t;return function(i){if(i.y>.99999){this.quaternion.set(0,0,0,1)}else if(i.y<-.99999){this.quaternion.set(1,0,0,0)}else{e.set(i.z,0,-i.x).normalize();t=Math.acos(i.y);this.quaternion.setFromAxisAngle(e,t)}}}();THREE.ArrowHelper.prototype.setLength=function(e,t,i){if(t===undefined)t=.2*e;if(i===undefined)i=.2*t;this.line.scale.set(1,e,1);this.line.updateMatrix();this.cone.scale.set(i,t,i);this.cone.position.y=e;this.cone.updateMatrix()};THREE.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e);this.cone.material.color.set(e)};